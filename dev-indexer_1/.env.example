## Copy this file to .env and fill real secrets locally. This .env.example is safe to commit.
## The real .env is git-ignored; a sanitized snapshot will live in .env.redacted.

## API externally reachable URL (change in production; defaults for local dev)
API_EXTERNAL_URL=http://localhost:8000

## JWT secret for auth (use 32+ chars in production; example below is placeholder only)
JWT_SECRET=your-super-secret-jwt-token-with-at-least-32-characters-long

## Legacy static JWT (optional): if you have an existing token to pass through
# Used by tools or services that expect a pre-issued token. Leave empty if unused.
LEGACY_JWT=

## Optional: Opt-in GPU probing (disabled by default to avoid CUDA/NVML noise on non-NVIDIA hosts)
# ENABLE_GPU_PROBE=1

## Optional: Postgres DSN for family context persistence (leave unset for in-memory only)
# FAMILY_PG_DSN=postgresql://user:pass@localhost:5432/mydb

## Optional: Comma-separated admin user IDs (for docs / future dynamic wiring)
# FAMILY_ADMIN_USERS=charles,nancy


## Supabase (optional) â€“ set if you want to push schemas to a remote Supabase Postgres
# SUPABASE_DB_URL=postgresql://postgres:your-password@db.your-project.supabase.co:6543/postgres


## 2x2 database layout (set these to override logical targets)
# Non-PII Vector DB (pgvector)
# DATABASE_URL_VEC=postgresql://postgres:pass@localhost:5432/rag_db
# Non-PII Timescale DB (events/time-series)
# DATABASE_URL_TS=postgresql://postgres:pass@localhost:5432/rag_db
# PII Vector DB (pgvector)
# PII_DATABASE_URL_VEC=postgresql://postgres:pass@localhost:5433/rag_pii
# PII Timescale DB (events/time-series)
# PII_DATABASE_URL_TS=postgresql://postgres:pass@localhost:5433/rag_pii


## Redis (shared cache)
# REDIS_URL=redis://:password@localhost:6379/0
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_DB=0
# REDIS_PASSWORD=
# REDIS_SSL=false
# REDIS_BUILD_CHANNEL=build_updates
# Optional serialization controls (default to JSON for compatibility)
# REDIS_SERIALIZATION_FORMAT=json
# REDIS_PUBSUB_FORMAT=json

## Embedding service (used by replay tool and others)
# EMBED_ENDPOINT=http://127.0.0.1:8000/model/embed

## Ingestion spool automation
# SPOOL_DIR=./data/spool
# SPOOL_TRIGGER_SIZE_MB=100
# PROCESS_SPOOL_SCRIPT_PATH=./scripts/process_spool.sh
# LOCK_FILE=/tmp/spool_watcher.lock
# PYTHON_REPLAY_SCRIPT=./scripts/rag_replay_msgpack.py
# RAG_LOG_FILE=./logs/rag_ingestion.log

