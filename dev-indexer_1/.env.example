## Copy this file to .env and fill real secrets locally. This .env.example is safe to commit.
## The real .env is git-ignored; a sanitized snapshot will live in .env.redacted.

## API externally reachable URL (change in production; defaults for local dev)
API_EXTERNAL_URL=http://localhost:8000

## JWT secret for auth (use 32+ chars in production; example below is placeholder only)
JWT_SECRET=your-super-secret-jwt-token-with-at-least-32-characters-long

## Legacy static JWT (optional): if you have an existing token to pass through
# Used by tools or services that expect a pre-issued token. Leave empty if unused.
LEGACY_JWT=

## Optional: Opt-in GPU probing (disabled by default to avoid CUDA/NVML noise on non-NVIDIA hosts)
# ENABLE_GPU_PROBE=1

## Optional: Postgres DSN for family context persistence (leave unset for in-memory only)
# FAMILY_PG_DSN=postgresql://user:pass@localhost:5432/mydb

## Optional: Comma-separated admin user IDs (for docs / future dynamic wiring)
# FAMILY_ADMIN_USERS=charles,nancy


## Supabase (optional) â€“ set if you want to push schemas to a remote Supabase Postgres
# SUPABASE_URL=https://your-project-ref.supabase.co
# SUPABASE_PROJECT_REF=your-project-ref   # convenience for scripts; matches the subdomain portion
# SUPABASE_ANON_KEY=anon-public-key-placeholder
# SUPABASE_SERVICE_KEY=service-role-key-placeholder   # keep out of images; least privilege otherwise
# SUPABASE_DB_URL=postgresql://postgres:your-password@db.your-project.supabase.co:6543/postgres
#
# Optional: fetch central secrets table into local env
# (table schema: app_secrets(key text primary key, value text not null))
# export SUPABASE_URL SUPABASE_SERVICE_KEY && \
#   ./scripts/fetch_supabase_secrets.sh --sync-to .env


## 2x2 database layout (set these to override logical targets)
# Non-PII Vector DB (pgvector)
# DATABASE_URL_VEC=postgresql://postgres:pass@localhost:5432/rag_db
# Non-PII Timescale DB (events/time-series)
# DATABASE_URL_TS=postgresql://postgres:pass@localhost:5432/rag_db
# PII Vector DB (pgvector)
# PII_DATABASE_URL_VEC=postgresql://postgres:pass@localhost:5433/rag_pii
# PII Timescale DB (events/time-series)
# PII_DATABASE_URL_TS=postgresql://postgres:pass@localhost:5433/rag_pii


## Redis (shared cache)
# REDIS_URL=redis://:password@localhost:6379/0
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_DB=0
# REDIS_PASSWORD=
# REDIS_SSL=false
# REDIS_BUILD_CHANNEL=build_updates
# Optional serialization controls (default to JSON for compatibility)
# REDIS_SERIALIZATION_FORMAT=json
# REDIS_PUBSUB_FORMAT=json

## Embedding service (used by replay tool and others)
# EMBED_ENDPOINT=http://127.0.0.1:8000/model/embed

## Ingestion spool automation
# SPOOL_DIR=./data/spool
# SPOOL_TRIGGER_SIZE_MB=100
# PROCESS_SPOOL_SCRIPT_PATH=./scripts/process_spool.sh
# LOCK_FILE=/tmp/spool_watcher.lock
# PYTHON_REPLAY_SCRIPT=./scripts/rag_replay_msgpack.py
# RAG_LOG_FILE=./logs/rag_ingestion.log

## Notifier (Supabase Edge Function)
# GATE_URL=https://<project>.functions.supabase.co/redis-pubsub
# GATE_TOKEN=your-anon-or-service-key

## RAG / Embedding
# RAG_EMBED_DIM=768          # unified embedding dimension
# RAG_TOP_K_DEFAULT=5        # default retrieval fan-out

## Primary unified DATABASE_URL (if using a single pgvector DB)
# DATABASE_URL=postgresql://postgres:postgres@localhost:5432/rag_db

## Schema verification helpers
# If SUPABASE_PROJECT_REF is set you can run (after login):
#   ./scripts/metrics_schema_verify.sh --project-ref "$SUPABASE_PROJECT_REF"
#   ./scripts/dev_kg_schema_verify.sh --project-ref "$SUPABASE_PROJECT_REF"
# Or export SUPABASE_DB_URL directly to bypass link.

## Swarm / Deployment notes
# For Swarm secrets (pg_password, legacy_jwt, supabase_jwt) create via:
#   echo 'secret-value' | docker secret create pg_password -
#   echo 'legacy-token' | docker secret create legacy_jwt -
#   echo 'supabase-jwt' | docker secret create supabase_jwt -
# Stack deploy example (core only):
#   docker stack deploy -c deploy/docker-stack-core.yml zenglow


## Generated below (do not edit manually)
# Synchronized variable placeholders (values redacted if secret).
APP_TEST_MODE= # optional
ASSISTANT_PERSONA= # optional
ASSIST_ENABLE= # optional
BATCH_SIZE= # optional
BGE_REMOTE_HOST=192.168.1.133 # provided
BGE_REMOTE_PORT=5001 # provided
BIN_CACHE_TTL= # optional
BRIN_MIN_ROWS= # optional
CENTRAL_ENABLE= # optional
CUDA_REMOTE_HOST=192.168.1.133 # provided
CUDA_REMOTE_SSH_KEY=__REDACTED__ # secret
CUDA_REMOTE_USER=cgbowen # provided
CURRENT_TIME_OVERRIDE= # optional
DATABASE_URL= # optional
DB_CLIENT_LAST_ERROR= # optional
DB_DSN= # optional
DB_POOL_MAX= # optional
DB_SEARCH_PATH= # optional
DEFAULT_FAMILY_USER= # optional
DEV_FAKE_LLM= # optional
DOCKER_PAT=__REDACTED__ # secret
EMBED_BASE_URL= # optional
EMBED_CACHE_MAX= # optional
EMBED_CACHE_TTL= # optional
EMBED_ENDPOINT= # optional
EMBED_FALLBACK_CHEAP= # optional
EMBED_HTTP_TIMEOUT= # optional
EMBED_MODE= # optional
EMBED_MODEL= # optional
EMBED_SUPABASE_FUNCTION= # optional
EMBED_SUPABASE_PATH= # optional
EMBED_TARGET= # optional
ENABLE_ROUTE_CALIB= # optional
ENABLE_SWARM= # optional
FAMILY_PG_DSN= # optional
FAMILY_USER= # optional
FORCE_AUDIO= # optional
GITHUB_PAT=__REDACTED__ # secret
HANDLERS_ENABLE= # optional
HOSTNAME= # optional
INDEX_ASSIST_LAST_ERROR= # optional
INFERENCE_PG_DSN= # optional
JARVIS_BASE= # optional
JARVIS_ENABLE= # optional
JARVIS_MODEL= # optional
JARVIS_QUANT_4BIT= # optional
JARVIS_URL= # optional
LEONARDO_MODEL= # optional
LEONARDO_URL= # optional
LLAMA_CPP_MODEL= # optional
LLAMA_CPP_SERVER_URL= # optional
LLM_ALLOW_EXTERNAL= # optional
LLM_ALLOW_PREFIXES= # optional
LLM_DEBUG= # optional
LLM_DEFAULT_PREFER= # optional
LLM_DISABLE= # optional
LLM_FORCE_PREFER= # optional
LM_REFINEMENT_TIMEOUT_MS= # optional
MEMORY_ENABLE= # optional
METRICS_MAX_OBS= # optional
OLLAMA_HOST=127.0.0.1 # provided
OLLAMA_MODEL= # provided
OLLAMA_PORT=11434 # provided
OLLAMA_URL=http://127.0.0.1:11434 # provided
PG_DB= # optional
PG_DSN= # optional
PG_EMBED_DIM=768 # provided
PG_HOST= # optional
PG_PASSWORD= # optional
PG_PORT= # optional
PG_USER= # optional
PHI3_REMOTE_HOST=192.168.1.133 # provided
PHI3_REMOTE_PORT=5000 # provided
PIPER_ALAN_MODEL= # optional
PIPER_BIN= # optional
PIPER_JARVIS_MODEL= # optional
PIPER_MODEL= # optional
POLL_INTERVAL= # optional
POSTGRES_SESSION_POOLER=__REDACTED__ # secret
POSTGRES_TRANSACTION_POOLER=__REDACTED__ # secret
PROMPT_CACHE_MAX= # optional
PROMPT_CACHE_TTL= # optional
RAG_EMBED_DIM=768 # provided
RAG_ENABLE_MEMORY= # optional
RAG_FEATURE_CACHE_TTL= # optional
RAG_FUSION_CONCEPTUAL_WEIGHT= # optional
RAG_FUSION_LTR_WEIGHT= # optional
RAG_MEMORY_TOP_K= # optional
RAG_MEMORY_WEIGHT= # optional
RAG_PRUNE= # optional
RAG_PRUNE_MIN= # optional
RAG_RECENCY_HALF_LIFE= # optional
RAG_RETRIEVAL_MODE=pgvector # provided
RAG_TOP_K_DEFAULT=5 # provided
RAG_TOP_K_MAX= # optional
RAG_USE_ANN= # optional
RAG_WEIGHT_DISTANCE= # optional
RAG_WEIGHT_METADATA= # optional
RAG_WEIGHT_RECENCY= # optional
REDIS_BUILD_CHANNEL= # optional
REDIS_DATA_DIR=/DEV_ZFS/redis/dev-indexer_1 # provided
REDIS_DB= # optional
REDIS_DISABLED= # optional
REDIS_HOST=redis # provided
REDIS_PASSWORD= # optional
REDIS_PORT=6379 # provided
REDIS_PUBSUB_FORMAT= # optional
REDIS_SERIALIZATION_FORMAT= # optional
REDIS_SSL= # optional
REDIS_URL= # optional
RESOURCE_WATCH_ENABLED= # optional
RESPONSE_CACHE_DISABLED= # optional
RESPONSE_CACHE_MAX= # optional
RESPONSE_CACHE_TTL_SEC= # optional
SELF_HEAL_INDEXES= # optional
SKIP_AUDIO_IMPORTS= # optional
SKIP_DB= # optional
SOUND_DIAG_ENABLE= # optional
SPEAKER_AUDIO_DIR= # optional
SPEAKER_MIN_SIM= # optional
STRICT_ENV= # optional
SUPABASE_ANON_KEY=__REDACTED__ # secret
SUPABASE_DB_URL=db.fwduxnqlraijxlprxsjy.supabase.co # provided
SUPABASE_DIRECT_URL= # optional
SUPABASE_EDGE_FUNCTION= # optional
SUPABASE_EDGE_FUNCTIONS= # optional
SUPABASE_JWT=__REDACTED__ # secret
SUPABASE_KEY= # optional
SUPABASE_PROJECT_REF=__REDACTED__ # secret
SUPABASE_SERVICE_KEY=__REDACTED__ # secret
SUPABASE_SERVICE_ROLE_KEY= # optional
SUPABASE_SESSION_POOLER=__REDACTED__ # secret
SUPABASE_TRANSACTION_POOLER=__REDACTED__ # secret
SUPABASE_URL=https://fwduxnqlraijxlprxsjy.supabase.co # provided
SUPABASE_WORKER=__REDACTED__ # secret
SWARM_PREDICT_ENABLE= # optional
SWITCHR_UNSURE_FALLBACK_THRESHOLD= # optional
TASK_QUEUE_BACKOFF_BASE= # optional
TASK_QUEUE_BACKOFF_FACTOR= # optional
TASK_QUEUE_BACKOFF_MAX= # optional
TASK_QUEUE_KEY= # optional
TASK_QUEUE_REDIS= # optional
TOKEN_CACHE_MAX= # optional
TOKEN_CACHE_TTL= # optional
TTS_ENABLE= # optional
WHISPER_CPP_DIR= # optional
WHISPER_MODEL= # optional
XRDP_PASSWORD=__REDACTED__ # secret
XRDP_USER=vscode # provided
XTTS_MODEL_DIR= # optional
XTTS_SCRIPT= # optional

